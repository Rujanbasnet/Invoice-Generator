<div class="w-64 bg-white shadow-md hidden md:flex flex-col">
  <div class="px-6 py-4 border-b">
    <h1 class="text-xl font-bold text-indigo-600">Invoice<span class="text-gray-900">Pro</span></h1>
  </div>
  <nav class="flex-1 px-4 py-6 space-y-2">
    <a href="dashboard.html" data-nav="dashboard" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100">
      🏠 Dashboard
    </a>
    <a href="create-invoice.html" data-nav="create-invoice" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100">
      🧾 Create Invoice
    </a>
    <a href="invoices.html" data-nav="invoices" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100">
      💼 Invoices
    </a>
    <a href="clients.html" data-nav="clients" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100">
      👤 Clients
    </a>
    <a href="reports.html" data-nav="reports" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100">
      📊 Reports
    </a>
    <a href="settings.html" data-nav="settings" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100">
      ⚙️ Settings
    </a>
  </nav>
  <div class="p-4 border-t">
    <button class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition">Logout</button>
  </div>
</div>

<script>
  // This script runs automatically to highlight the correct page AND move the sidebar content.
  document.addEventListener('DOMContentLoaded', () => {
    // 1. NAVIGATION HIGHLIGHTING
    const path = window.location.pathname.split('/').pop().split('.')[0];
    const navItem = document.querySelector(`[data-nav="${path}"]`);
    
    if (navItem) {
      navItem.classList.add('bg-indigo-50', 'text-indigo-700', 'font-semibold');
      navItem.classList.remove('hover:bg-gray-100');
    }
    
    // 2. CONTENT MOVEMENT FIX
    const sidebarPlaceholder = document.getElementById('main-sidebar');
    
    // Find the injected content: the main sidebar div itself.
    // We look for the <div class="w-64..." which is the first element in this file's code.
    const sourceDiv = document.querySelector('body > div.w-64.bg-white.shadow-md.hidden'); 
    
    if (sourceDiv && sidebarPlaceholder) {
      // Move the content from the temporary div into the <aside> placeholder.
      // We need to keep the original <aside> tag so the Tailwind flex layout still works.
      sidebarPlaceholder.innerHTML = sourceDiv.innerHTML; 
      sourceDiv.remove(); // Remove the temporary loading div.
    }
  });
</script>